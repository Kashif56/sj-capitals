{% extends 'common/base.html' %}
{% block title %}Welcome{% endblock %}
{% block content %}
<!-- Hero Section -->
<section class="position-relative overflow-hidden py-5 py-lg-8" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9f2ff 100%);">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 text-center">
        <div class="badge bg-primary text-white px-3 py-2 rounded-pill mb-4" style="font-size: 0.9rem; box-shadow: 0 4px 12px rgba(13,59,102,0.15);">
          <i class="bi bi-shield-check me-1"></i> Trusted by 10,000+ Investors
        </div>
        <p class="text-uppercase fw-bold text-primary mb-2" style="letter-spacing: 2px; font-size: 0.9rem;">Financial Excellence Since 2010</p>
        <h1 class="display-3 fw-bold mb-4" style="background: linear-gradient(90deg, #0d3b66, #198754); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent; color: #0d3b66; line-height: 1.2;">Elevate Your<br>Investment Strategy</h1>
        <p class="lead mb-4 text-secondary" style="font-size: 1.25rem;">SJ Capitals delivers premium investment solutions with industry-leading returns and institutional-grade security.</p>
        <div class="d-flex flex-column flex-sm-row justify-content-center gap-3">
          <a href="#plans" class="btn btn-success btn-lg px-4 py-3 shadow-sm">Explore Investment Plans</a>
          <a href="#about" class="btn btn-outline-primary btn-lg px-4 py-3">Our Approach</a>
        </div>
        <!-- Trust indicators -->
        <div class="d-flex flex-wrap justify-content-center mt-5 gap-4">
          <div class="d-flex align-items-center">
            <i class="bi bi-patch-check-fill text-primary me-2"></i>
            <span class="small fw-medium">SEC Regulated</span>
          </div>
          <div class="d-flex align-items-center">
            <i class="bi bi-bank2 text-primary me-2"></i>
            <span class="small fw-medium">FDIC Insured</span>
          </div>
          <div class="d-flex align-items-center">
            <i class="bi bi-lock-fill text-primary me-2"></i>
            <span class="small fw-medium">Bank-Level Security</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- About Section -->
<section id="about" class="py-7 my-5 py-lg-9 bg-white">
  <div class="container">
    <!-- Section header -->
    <div class="row mb-6">
      <div class="col-lg-8 mx-auto text-center">
        <div class="badge bg-primary text-white px-3 py-2 rounded-pill mb-4">
          <i class="bi bi-stars me-1"></i> Our Legacy
        </div>
        <h2 class="mb-1 fw-bold">About SJ Capitals</h2>
        <div class="w-25 mx-auto border-top border-2 border-primary opacity-25 my-1"></div>
        <p class="lead text-secondary mt-3">Your elite partner in wealth management and strategic investment growth since 2015.</p>
      </div>
    </div>
    
    <!-- Main content -->
    <div class="row justify-content-center mt-5 gx-5 gy-6">
      <!-- Left column with key stats -->
      <div class="col-lg-4 mb-5 mb-lg-0">
        <div class="row g-4">
          <!-- Stats cards -->
          <div class="col-md-12">
            <div class="sj-card text-center">
              <h4 class="display-8 fw-bold text-primary mb-1">10+</h4>
              <p class="text-uppercase fw-bold">Years Experience</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="sj-card text-center h-100">
              <h4 class="display-8 fw-bold text-primary mb-1">Rs 10 M+</h4>
              <p class="text-uppercase fw-bold">Assets Managed</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="sj-card text-center h-100">
              <h4 class="display-8 fw-bold text-primary mb-1">1K+</h4>
              <p class="text-uppercase fw-bold">Satisfied Clients</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Right column with company description -->
      <div class="col-lg-7 offset-lg-1">
        <span class="text-primary fw-bold d-block mb-1">OUR MISSION</span>
        <h3 class="fw-bold mb-1">Building Exceptional Financial Futures</h3>
        <p class="mb-5 lead">SJ Capitals stands as a distinguished investment firm with a legacy of excellence, dedicated to helping discerning individuals and businesses achieve extraordinary financial outcomes.</p>
        
        <!-- Feature boxes -->
        <div class="row g-4 mt-5">
          <div class="col-md-6 mb-1">
            <div class="sj-card h-100">
              <h4>Institutional Security</h4>
              <p>Enterprise-grade protection for all client assets and transactions.</p>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span>256-bit encryption</span>
              </div>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span>Multi-factor authentication</span>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-1">
            <div class="sj-card h-100">
              <h4>Superior Returns</h4>
              <p>Consistent performance exceeding market benchmarks since inception.</p>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span>3.2% above market average</span>
              </div>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span>Proven track record</span>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-1">
            <div class="sj-card h-100">
              <h4>Award Winning</h4>
              <p>Recognized as a Top Investment Firm in 2025.</p>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span>Industry excellence awards</span>
              </div>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span>Client satisfaction ratings</span>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-1">
            <div class="sj-card h-100">
              <h4>Expert Team</h4>
              <p>50+ Financial Advisors with 20+ years average experience.</p>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span>Harvard & Wharton alumni</span>
              </div>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span>Certified financial planners</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Investment Plans Section -->
<section id="plans" class="py-5 position-relative" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9f2ff 100%);">
  <!-- Decorative elements -->
  <div class="position-absolute top-0 start-0 d-none d-lg-block" style="opacity: 0.05;">
    <svg width="300" height="300" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
      <path fill="#0d3b66" d="M42.7,-73.2C55.9,-67.3,67.7,-56.7,75.9,-43.5C84.1,-30.3,88.7,-15.2,87.4,-0.7C86.2,13.7,79.1,27.4,70.1,39.5C61.1,51.6,50.1,62.1,37.3,69.7C24.5,77.3,10,82.1,-4.4,82.2C-18.9,82.3,-33.8,77.7,-47.5,69.9C-61.2,62,-73.8,50.8,-80.9,36.9C-88,22.9,-89.7,6.1,-87.4,-10.2C-85.1,-26.5,-78.8,-42.3,-68.1,-54.4C-57.4,-66.5,-42.4,-74.9,-27.7,-79.5C-13,-84.1,1.3,-84.9,15.1,-81.5C28.9,-78.1,42.1,-70.5,53.7,-61.2C65.3,-51.9,75.3,-40.8,81.9,-27.7C88.5,-14.6,91.7,0.5,89.3,14.8C86.9,29.1,78.9,42.6,68.2,53.4C57.6,64.2,44.3,72.3,30.1,77.3C15.9,82.3,0.8,84.2,-14.4,83C-29.5,81.8,-44.7,77.5,-57.4,69C-70.1,60.5,-80.3,47.9,-86.1,33.5C-91.9,19.1,-93.3,2.9,-90.2,-12.4C-87.1,-27.7,-79.6,-42.1,-68.7,-53.4C-57.9,-64.7,-43.8,-72.9,-29.1,-77.7C-14.4,-82.5,0.9,-83.9,15.6,-81.5C30.3,-79.1,44.5,-72.9,57.1,-64.2C69.7,-55.5,80.8,-44.3,87.4,-30.9C94,-17.5,96.2,-1.9,94.1,13C92,27.9,85.6,42.2,75.8,54C66,65.8,52.8,75.2,38.5,80.8C24.1,86.4,8.7,88.2,-6.4,87.5C-21.5,86.8,-36.3,83.6,-49.5,76.8C-62.7,70,-74.3,59.6,-82.2,46.5C-90.1,33.4,-94.3,17.7,-94.6,1.9C-94.9,-13.9,-91.3,-29.7,-83.8,-43.1C-76.3,-56.5,-64.9,-67.5,-51.2,-74.8C-37.5,-82.1,-21.5,-85.7,-5.2,-85.6C11.1,-85.5,27.8,-81.6,42.7,-73.2Z" transform="translate(100 100)" />
    </svg>
  </div>
  
  <div class="container position-relative">
    <div class="row mb-5">
      <div class="col-lg-7 mx-auto text-center">
        <span class="badge bg-primary mx-auto bg-opacity-10 text-primary px-3 py-2 rounded-pill mb-2" style="display: block; width: fit-content; ">Premium Offerings</span>
        <h2 class="display-5 fw-bold section-title mb-3">Investment Plans</h2>
        <div class="w-25 mx-auto border-top border-2 border-primary opacity-25 my-3"></div>
        <p class="lead text-secondary">Select the investment strategy that aligns with your financial aspirations and risk tolerance.</p>
      </div>
    </div>
    
    <!-- Netflix-style Plans Carousel -->
    <div class="netflix-carousel-container position-relative">
      <h3 class="netflix-carousel-title mb-3">Our Investment Plans</h3>
      
      <!-- Left Control -->
      <div class="netflix-control netflix-control-left">
        <button class="netflix-control-btn" id="plansCarouselPrev">
          <i class="bi bi-chevron-left"></i>
        </button>
      </div>
      
      <!-- Plans Carousel -->
      <div class="netflix-carousel" id="plansCarousel">
        <div class="netflix-carousel-track">
          {% for plan in plans %}
          <div class="netflix-carousel-item">
            <div class="sj-card h-100">
              <span class="plan-badge plan-badge-primary">{{ plan.name }}</span>
              <h3>Rs. {{ plan.min_invest|floatformat:0 }} - Rs. {{ plan.max_invest|floatformat:0 }}</h3>
              <p>{{ plan.description }}</p>
              <div class="plan-price plan-price-primary mb-4">4-10%</div>
              <p class="text-muted small">Average Return after 10 days</p>
              
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span><strong>{{ plan.duration_days }}</strong> days investment term</span>
              </div>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span><strong>Conservative</strong> risk profile</span>
              </div>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span><strong>Monthly</strong> performance reports</span>
              </div>
              <div class="sj-feature">
                <i class="bi bi-check-circle-fill"></i>
                <span><strong>Online</strong> account management</span>
              </div>
              
              <a href="{% url 'payment' plan.id %}" class="sj-btn">Begin Your Journey</a>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
      
      <!-- Right Control -->
      <div class="netflix-control netflix-control-right">
        <button class="netflix-control-btn" id="plansCarouselNext">
          <i class="bi bi-chevron-right"></i>
        </button>
      </div>
    </div>
    
    <!-- Additional info -->
    <div class="row mt-5">
      <div class="col-lg-8 mx-auto text-center">
        <div class="card border-0 bg-white bg-opacity-75 shadow-sm p-4">
          <p class="mb-0 text-secondary"><i class="bi bi-info-circle text-primary me-2"></i> All investment plans include portfolio diversification, tax optimization, and complimentary portfolio rebalancing. <a href="#" class="text-primary">View full details</a></p>
        </div>
      </div>
    </div>
  </div>
</section>



<!-- Trust Section -->
<section id="trust" class="py-7 my-5 bg-white">
  <div class="container">
    <div class="row mb-5">
      <div class="col-lg-8 mx-auto text-center">
        <span class="badge bg-primary mx-auto bg-opacity-10 text-primary px-3 py-2 rounded-pill mb-3" style="display: block; width: fit-content; ">Our Commitment</span>
        <h2 class="fw-bold section-title mb-3">Why Trust SJ Capitals?</h2>
        <div class="w-25 mx-auto border-top border-2 border-primary opacity-25 my-1"></div>
        <p class="lead text-secondary mt-2">We've built our reputation on uncompromising security, complete transparency, and exceptional results.</p>
      </div>
    </div>
    <div class="row g-4 justify-content-center">
      <div class="col-lg-3 col-md-6">
        <div class="industry-card">
          <div class="industry-icon">
            <i class="bi bi-shield-lock"></i>
          </div>
          <h4>Bank-Level Security</h4>
          <p>Your investments are protected by military-grade encryption and multi-layered security protocols that exceed industry standards.</p>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>256-bit encryption</span>
          </div>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Multi-factor authentication</span>
          </div>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>24/7 monitoring</span>
          </div>
          <a href="#" class="industry-btn">Learn More</a>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="industry-card">
          <div class="industry-icon">
            <i class="bi bi-graph-up-arrow"></i>
          </div>
          <h4>Proven Performance</h4>
          <p>Our investment strategies have consistently outperformed market benchmarks by an average of 3.2% annually since our founding.</p>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>15+ year track record</span>
          </div>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Consistent returns</span>
          </div>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Transparent reporting</span>
          </div>
          <a href="#" class="industry-btn">View Performance</a>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="industry-card">
          <div class="industry-icon">
            <i class="bi bi-people"></i>
          </div>
          <h4>Elite Expertise</h4>
          <p>Our team of financial advisors brings over 250 years of combined experience from top-tier financial institutions worldwide.</p>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Harvard & Wharton alumni</span>
          </div>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Former Wall Street executives</span>
          </div>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Certified financial planners</span>
          </div>
          <a href="#" class="industry-btn">Meet Our Team</a>
        </div>
      </div>
      <div class="col-lg-3 col-md-6">
        <div class="industry-card">
          <div class="industry-icon">
            <i class="bi bi-award"></i>
          </div>
          <h4>Fully Regulated</h4>
          <p>We operate under strict financial regulations with quarterly audits to ensure complete compliance and transparency.</p>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>SEC & FINRA compliant</span>
          </div>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Independent audits</span>
          </div>
          <div class="industry-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Regulatory oversight</span>
          </div>
          <a href="#" class="industry-btn">View Credentials</a>
        </div>
      </div>
    </div>
    <div class="row mt-5">
      <div class="col-12 text-center">
        <a href="#" class="btn btn-outline-primary px-4 py-2">Learn More About Our Approach <i class="bi bi-arrow-right ms-2"></i></a>
      </div>
    </div>
  </div>
</section>



<!-- CTA Section -->
<section class="py-5 my-5" style="background: var(--sj-primary-dark);">
  <div class="container py-4">
    <div class="row align-items-center">
      <div class="col-lg-8 mb-4 mb-lg-0 text-center text-lg-start">
        <h2 class="fw-bold text-white mb-2">Ready to start growing your wealth?</h2>
        <p class="text-secondary mb-0">Join thousands of investors who trust SJ Capitals with their financial future.</p>
      </div>
      <div class="col-lg-4 text-center text-lg-end">
        <a href="/accounts/register/" class="btn-gold btn btn-lg px-4 py-3">Create Account</a>
        <a href="#contact" class="btn-outline-gold btn btn-lg px-4 py-3 ms-2">Contact Us</a>
      </div>
    </div>
  </div>
</section>



<!-- Contact Section -->
<section id="contact" class="py-7 bg-white">
  <div class="container">
    <div class="row mb-5">
      <div class="col-lg-8 mx-auto text-center">
        <span class="badge bg-primary mx-auto bg-opacity-10 text-primary px-3 py-2 rounded-pill mb-3" style="display: block; width: fit-content;">Get In Touch</span>
        <h2 class="fw-bold section-title mb-3">Contact Us</h2>
        <div class="w-25 mx-auto border-top border-2 border-primary opacity-25 my-1"></div>
        <p class="lead text-secondary mt-2">Have questions about our investment plans? Our team is here to help you.</p>
      </div>
    </div>
    
    <div class="row g-4">
      <!-- Contact Information Card -->
      <div class="col-lg-4 mb-4 mb-lg-0">
        <div class="sj-card h-100">
          <div class="sj-icon">
            <i class="bi bi-info-circle"></i>
          </div>
          <h4>Contact Information</h4>
          <p>Reach out to our team using any of the methods below.</p>
          
          <div class="sj-feature">
            <i class="bi bi-geo-alt-fill"></i>
            <span>Office Sj Capitals Hong Kong Plaza, Dina, Pakistan</span>
          </div>
          <div class="sj-feature">
            <i class="bi bi-telephone-fill"></i>
            <span>+92 307 3925859</span>
          </div>
          <div class="sj-feature">
            <i class="bi bi-envelope-fill"></i>
            <span>sjcapitalz@gmail.com</span>
          </div>
          <div class="sj-feature">
            <i class="bi bi-clock-fill"></i>
            <span>Monday - Friday: 9:00 AM - 5:00 PM</span>
          </div>
          
          <a href="mailto:info@sjcapitals.com" class="sj-btn">Email Us</a>
        </div>
      </div>
      
      <!-- Schedule a Call Card -->
      <div class="col-lg-4 mb-4 mb-lg-0">
        <div class="sj-card h-100">
          <div class="sj-icon">
            <i class="bi bi-calendar-check"></i>
          </div>
          <h4>Schedule a Call</h4>
          <p>Book a consultation with one of our financial advisors.</p>
          
          <div class="sj-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>30-minute complimentary session</span>
          </div>
          <div class="sj-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Personalized investment advice</span>
          </div>
          <div class="sj-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Portfolio review and analysis</span>
          </div>
          <div class="sj-feature">
            <i class="bi bi-check-circle-fill"></i>
            <span>Flexible scheduling options</span>
          </div>
          
          <a href="#" class="sj-btn">Book Appointment</a>
        </div>
      </div>
      
      <!-- Send Message Card -->
      <div class="col-lg-4">
        <div class="sj-card h-100">
          <div class="sj-icon">
            <i class="bi bi-chat-dots"></i>
          </div>
          <h4>Send a Message</h4>
          <p>Fill out the form below and we'll respond within 24 hours.</p>
          
          <form class="mt-3" method='post' action="{% url 'contact' %}">
            {% csrf_token %}
            <div class="mb-3">
              <input type="text" name="full_name" class="form-control" placeholder="Your Name" required>
            </div>
            <div class="mb-3">
              <input type="email" name="email" class="form-control" placeholder="Email Address" required>
            </div>
            <div class="mb-3">
              <select name="reason" class="form-select">
                <option selected disabled>Select Topic</option>
                <option>Investment Plans</option>
                <option>Account Information</option>
                <option>Financial Advice</option>
                <option>Other</option>
              </select>
            </div>
            <div class="mb-3">
              <textarea class="form-control" name="message" rows="3" placeholder="Your Message" required></textarea>
            </div>
            <button type="submit" class="btn-gold btn w-100">Send Message</button>
          </form>
        </div>
      </div>
    </div>
    

  </div>
</section>
{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
<style>
  /* Netflix-style Carousel Styles */
  .netflix-carousel-container {
    width: 100%;
    position: relative;
    padding: 20px 0;
    overflow: hidden;
  }
  
  .netflix-carousel-title {
    font-weight: bold;
    margin-left: 10px;
    color: #0d3b66;
  }
  
  .netflix-carousel {
    position: relative;
    width: 100%;
    overflow: hidden;
  }
  
  .netflix-carousel-track {
    display: flex;
    transition: transform 0.5s ease-in-out;
  }
  
  .netflix-carousel-item {
    flex: 0 0 400px;
    margin-right: 20px;
    transition: transform 0.3s ease;
  }
  
  .netflix-carousel-item:hover {
    transform: scale(1.05);
    z-index: 1;
  }
  
  .netflix-control {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .netflix-carousel-container:hover .netflix-control {
    opacity: 1;
  }
  
  .netflix-control-left {
    left: -10px;
  }
  
  .netflix-control-right {
    right: -10px;
  }
  
  .netflix-control-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.9);
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .netflix-control-btn:hover {
    background-color: #fff;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
  }
  
  .netflix-control-btn i {
    font-size: 24px;
    color: #0d3b66;
  }
  
  @media (max-width: 768px) {
    .netflix-carousel-item {
      flex: 0 0 300px;
    }
  }
  
  @media (max-width: 576px) {
    .netflix-carousel-item {
      flex: 0 0 280px;
    }
  }
</style>
{% endblock %}
{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Get the carousel elements
    const carousel = document.getElementById('plansCarousel');
    const carouselTrack = carousel.querySelector('.netflix-carousel-track');
    const carouselItems = carousel.querySelectorAll('.netflix-carousel-item');
    const prevButton = document.getElementById('plansCarouselPrev');
    const nextButton = document.getElementById('plansCarouselNext');
    
    // Calculate the total width of all items
    const itemWidth = carouselItems[0].offsetWidth + 20; // width + margin
    const totalItems = carouselItems.length;
    let currentPosition = 0;
    const visibleItems = Math.floor(carousel.offsetWidth / itemWidth);
    const maxPosition = Math.max(0, totalItems - visibleItems);
    
    // Initialize Hammer.js for swipe support
    const hammer = new Hammer(carousel);
    
    // Function to update carousel position
    function updateCarouselPosition() {
      carouselTrack.style.transform = `translateX(-${currentPosition * itemWidth}px)`;
    }
    
    // Event listeners for navigation buttons
    prevButton.addEventListener('click', function() {
      if (currentPosition > 0) {
        currentPosition--;
        updateCarouselPosition();
      }
    });
    
    nextButton.addEventListener('click', function() {
      if (currentPosition < maxPosition) {
        currentPosition++;
        updateCarouselPosition();
      }
    });
    
    // Swipe support for mobile devices
    hammer.on('swipeleft', function() {
      if (currentPosition < maxPosition) {
        currentPosition++;
        updateCarouselPosition();
      }
    });
    
    hammer.on('swiperight', function() {
      if (currentPosition > 0) {
        currentPosition--;
        updateCarouselPosition();
      }
    });
    
    // Handle window resize
    window.addEventListener('resize', function() {
      // Recalculate visible items
      const newVisibleItems = Math.floor(carousel.offsetWidth / itemWidth);
      const newMaxPosition = Math.max(0, totalItems - newVisibleItems);
      
      // Adjust current position if needed
      if (currentPosition > newMaxPosition) {
        currentPosition = newMaxPosition;
        updateCarouselPosition();
      }
    });
  });
</script>
{% endblock %}